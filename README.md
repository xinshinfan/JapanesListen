# 日语博客语音播放器

一个用于提取日语博客内容并合成语音播放的Web应用程序。

## 功能特点

- **多行文本输入**：支持直接输入或粘贴多行日语文本
- **网页内容提取**：可从日语博客网址自动提取文章内容
- **语音合成**：使用本地VITS/VOICEVOX API将日语文本转换为语音
- **句子分割**：自动将文章分割为独立的句子进行播放
- **播放控制**：支持播放/暂停、上一句/下一句等控制功能
- **快捷键支持**：提供空格键、方向键等快捷操作
- **段落保留**：自动保留文章的段落结构

## 安装和使用

### 前提条件

- 已安装Python 3.x
- 已运行本地VOICEVOX引擎（默认端口：50021）

### 启动应用

1. 下载或克隆项目文件
2. 在项目目录下启动HTTP服务器：
   ```bash
   python -m http.server 8000
   ```
3. 在浏览器中访问：`http://localhost:8000/japanese_blog_player.html`

## 支持的功能

### 输入方式

1. **直接输入日语文本**：
   - 在文本框中直接输入多行日语内容
   - 支持粘贴复制的日语文本

2. **输入博客网址**：
   - 输入日语博客的完整URL
   - 系统会自动提取文章内容

### 语音播放

- **播放控制**：播放/暂停、上一句、下一句
- **语音角色选择**：可从下拉菜单中选择不同的语音角色
- **句子高亮**：当前播放的句子会自动高亮显示
- **进度显示**：显示当前播放进度和句子总数

## 使用说明

1. **输入内容**：
   - 在多行文本框中输入日语内容或博客网址
   - 点击"处理内容"按钮

2. **查看内容**：
   - 处理完成后，文章内容会显示在"文章内容"区域
   - 系统会自动保留段落结构

3. **播放语音**：
   - 选择喜欢的语音角色
   - 使用播放器控制按钮或快捷键进行操作

## 快捷键

- **空格键**：播放/暂停
- **← 左箭头**：上一句
- **→ 右箭头**：下一句

## 技术实现

- **前端技术**：HTML5, CSS3, JavaScript (ES6+)
- **语音合成**：VITS/VOICEVOX API（本地部署）
- **网页内容提取**：使用DOM解析和正则表达式
- **文本处理**：
  - 保留换行符的文本清理
  - 基于日语标点符号的句子分割
  - 段落结构保留

## 项目结构

```
.
├── japanese_blog_player.html  # 主应用页面
├── blog_player.css            # 样式文件
├── blog_player.js             # 核心功能脚本
├── multi_line_test.html       # 多行文本测试文件
└── README.md                  # 项目说明文档
```

## 注意事项

1. **VOICEVOX引擎**：
   - 确保已正确安装并运行VOICEVOX引擎
   - 默认API地址：http://127.0.0.1:50021

2. **网页内容提取**：
   - 并非所有日语博客都支持内容提取
   - 部分网站可能有反爬虫限制

3. **日语支持**：
   - 仅支持日语文本的语音合成
   - 混合语言文本可能无法正确处理

## 故障排除

1. **无法连接VOICEVOX**：
   - 检查VOICEVOX引擎是否正常运行
   - 确认API地址和端口是否正确

2. **内容提取失败**：
   - 确认输入的URL是否为有效的日语博客地址
   - 部分网站可能不支持内容提取

3. **语音播放无声音**：
   - 检查浏览器音频设置
   - 确认VOICEVOX引擎是否正常响应

## 更新日志

- **v1.0**：
  - 初始版本发布
  - 支持多行文本输入
  - 实现网页内容提取
  - 集成VOICEVOX语音合成

## 许可证

本项目采用MIT许可证。# JapanesListen
